---
title: 性能优化概览
date: 2025-11-27 17:24:35
permalink: /performance/overview
# titleTag: 
categories:
  - 性能优化
tags:
  - 性能优化
---

![能优](../../public/qian/性能优化.png)

## 性能衡量的重要指标

### 何时开始渲染
**FP（First Paint）**：首次绘制时间，指浏览器**首次在屏幕上渲染像素的时间**，代表页面开始渲染的时间点，也就是**白屏时间**。它是评估页面渲染速度的重要指标。
**FCP（First Contentful Paint）**：首次内容绘制时间，是页面首次绘制任何有内容的像素到屏幕上的时间，代表页面**首屏加载的时间点**，也就是首屏渲染时间。

### 何时渲染出主要内容
**LCP**： 最大内容绘制时间，指页面上最大的可见元素（文本、图像、视频等）绘制完成的时间，**代表用户视觉上感知到页面加载完成的时间点**。它是评估页面内容加载速度的重要指标之一。

### 何时可以交互
**TTI（Time to Interactive）** 用户可交互时间：指页面加载完成并且用户能够与页面进行交互的时间，代表用户可以开始操作页面的时间点，**页面加载后多久能交互**

### 交互响应性
**INP(Interaction to Next Paint)**，用户触发交互（比如点击、输入）后，浏览器多久能渲染下一个画面的时间。FID的升级，FID仅测试首次输入延迟，INP监控整个访问周期。

### 页面是否稳定
**CLS（Cumulative Layout Shift）**: 累积布局偏移。量化了在页面加载期间，**视口中元素的移动程度**。在一个页面的生命周期中，会不断的发生布局变化（layout shift），对每一次布局变化做一个累积的记分，其中得分最大布局变化即为CLS，是衡量页面稳定性的重要指标。

在浏览器F12-Performance(性能)中有三个重要指标LCP、CLS、INP可以衡量"快、稳、顺"。



## 浏览器工具的使用

![性能面板](/qian/性能面板.png)

在浏览器中Performance中录制并重新加载中，能生成上面图片中浏览器执行任务的详细过程。首先我们要明白图片中的不同颜色对应的是什么操作？

| 颜色        | 任务类型                     | 包含操作示例                      |
| ----------- | ---------------------------- | --------------------------------- |
| 黄色        | Scripting（JavaScript 执行） | 评估 / 编译脚本、函数调用、微任务 |
| 蓝色        | Loading（加载 / 解析）       | 解析 HTML、解析 CSS、资源加载     |
| 紫色        | Rendering（渲染）            | 计算样式、布局（重排）            |
| 绿色        | Painting（绘制）             | 绘制像素、图层合成                |
| 粉色 / 灰色 | 函数 / 子任务调用            | 匿名函数、内部方法调用            |
| 白色        | Idle（空闲）                 | 主线程无任务执行                  |

还有就是明白为什么每一列都会有很多操作？

这个是因为浏览器主线程是**单线程串行执行任务**，性能面板的 “堆叠块” 是**任务的嵌套 / 子流程展示**。
