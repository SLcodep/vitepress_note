---
title: 浏览器安全与浏览器同源问题
date: 2025-11-27 17:24:35
permalink: /browser/05
# titleTag: 
categories:
  - 前端
tags:
  - 前端
---

## 浏览器安全



## 浏览器跨域解决办法

### 1️⃣ JSONP

- **原理**：利用`<script>`标签无跨域限制的特性。

- **特点**：
  - 仅支持GET请求
  - 需服务器配合返回函数调用（如 `callbackName({data})`）

### 2️⃣ CORS

`CORS`(跨域资源共享):在服务器端配置相应的响应头信息，允许特定的域名访问资源。可以通过设置`Access-Control-Allow-Origin`来指定允许的来源域名，实现跨域请求。

- **原理**：服务器设置响应头告知浏览器允许跨域请求。

```js
Access-Control-Allow-Origin: *  // 或指定域名（如 https://example.com）
Access-Control-Allow-Methods: GET, POST, PUT
Access-Control-Allow-Headers: Content-Type, Authorization
Access-Control-Allow-Credentials: true  // 允许发送Cookie
Access-Control-Max-Age: 86400  // 预检请求缓存时间
```



### 3️⃣ 代理服务器

- **原理**：让同源服务器代理转发请求（绕过浏览器限制）。
- **开发环境**：Webpack DevServer / Vite Proxy

```js
// vite.config.js
export default {
  server: {
    proxy: {
       //匹配以/api开头的请求路径
      '/api': {
        // 目标服务器地址：所有匹配 /api 的请求都会转发到这个地址
        target: 'http://target-server.com', 
        // 开启跨域支持：修改请求头中的 Origin 为目标服务器地址，解决跨域问题
        changeOrigin: true,
        // 路径重写规则：将请求路径中的 /api 前缀移除后再转发到目标服务器
        rewrite: path => path.replace(/^/api/, '')
      }
    }
  }
}

```

- **生产环境**：Nginx反向代理

```js
location /api/ {
  proxy_pass http://target-server.com/;
  proxy_set_header Host $host;
}
```



### 4️⃣ WebSocket

基于WebSocket协议进行跨域通信，由于`WebSocket`协议**不受同源策略的限制**，可以在前端实现跨域请求。

