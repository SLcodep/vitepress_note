---
title: 计算机网络基础内容
date: 2025-11-27 17:24:35
permalink: /network/01
# titleTag:
categories:
  - 前端
tags:
  - 前端
---

## 1.七层模型

> 在传输层有 TCP 和 UDP，TCP 更可靠安全，UDP 实时性更好，不稳定
>
> > 应用层：ajax 调用接口 http 请求，域名系统，ssh 协议，webSocket 长连接

![76423011616](../../public/qian/1764230116166.png)

## TCP 三次握手

在建立连接时经过三次握手

> **名词描述**
> 1.seq（sequence number），序列号随机生成的
> 2.ack（acknowledgement number）确认号 ack = seq + 1
> 3.ACK （acknowledgement）确定序列号有效
> 4.SYN（synchronous）发起新连接
> 客户端建立连接，发起请求；服务端验证，通过返回 ack=seq+1；之后客户端在接受到服务端返回的 ack 之后，将 seq+1，ack 告知服务端我收到回应，建立连接。

![76423017442](../../public/qian/1764230174421.png)

## TCP 四次挥手

> 四次挥手可以是客户端发起，也可以是服务端发起

![76423019115](../../public/qian/1764230191154.png)
本图是客户端发起的断开。 1.**==客户端发起关闭请求==**。客户端进行断开操作先发送`FIN`包生成客户端的`seq`序列号随后进入`wait1状态` ,这是**第一次挥手**。 2.**==服务端确认请求（第二次挥手）==**。服务端收到 FIN 包表示自己进入了关闭等待状态，然后向客户端使用 ack 验证，验证成功打上 ACK 标记，随后生成服务端的`seq值`发送给客户端，这是第二次挥手，服务端此时还可以发送未完成的数据。
3.==**服务端发起关闭请求（第三次挥手）**==。==等待服务端所有任务操作完成之后==服务端开始进入最后确认状态，向客户端发送`FIN包`,并且验证 ack，使用客户端第一次的`seq + 1`去验证，验证成功打上 ACK 标记，并且生成一个新的序列号 seq 发送给客户端，这是第三次挥手。 4.**==客户端最终确认（第四次挥手）==**客户端收到之后进入超时等待状态`2MSL（1-4分钟）`，经过等到后客户端关闭连接，而服务端收到信息验证完成 ack 成功之后打上`ACk`标记随后将关闭连接。

## DNS

> 什么是 DNS？
> DNS 是域名系统 (Domain Name System) 的缩写，提供的是一种主机名到 IP 地址的转换服务

### DNS 完整的查询过程

**分层缓存 + 逐级查询**
==浏览器缓存 → 本地 DNS→ 根服务器 → 顶级服务器 → 权威服务器==
**第一步**：**浏览器的缓存**中查找对应的 IP 地址；否则下一步
**第二步**：将请求发送给**本地 DNS 服务器**，在本地域名服务器缓存中查询；否则下一步
**第三步**：本地 DNS 服务器向**根域名服务器**发送请求，根域名服务器会返回一个所查询域的顶级域名服务器地址
第四步：本地 DNS 服务器向**顶级域名服务器**发送请求
第五步：本地 DNS 服务器向**权威域名服务器**发送请求，域名服务器返回对应的结果

## 浏览器请求缓存

> POST 请求时，跨域或者自定义请求头可能会有两个 HTTP 请求，其中 options 是预检，先确保是否是安全的；第二个是 post 请求返回

在发起请求有一步操作是查看是否有缓存
强缓存、协商缓存

## CDN 内容分发

## SSE 与 websocket

### SSE

在正常的 hhtp 请求中，都是客户端向服务器发起一次请求，服务器将数据返回给客户端。而 SSE 是客户端向服务器发起一次请求后，服务器可以多次发送数据给客户端。
![SSE](/qian/SSE.png)

---

### websocket

websocket 的方式是双向的，客户端和服务器建立连接后能多次交互。

- 应用场景 1.实时性要求高的应用，如在线聊天、游戏、数据可视化 2.频繁交换数据，如在线编辑器、文件管理器 3.推送服务，如实时数据监控、通知系统

![SSE](/qian/websocket.png)

## JWT(鉴权)

[小满 zs-jwt 鉴权](https://juejin.cn/post/7248531609388204090?searchId=20251202093803243B413F4B802CD2A132)

主要是做鉴权用的登录之后存储用户信息，如生成的 token(令牌)
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjg3Njc0NDkyLCJleHAiOjE2ODc3NjA4OTJ9.Y6eFGv4KXqUhlRHglGCESvcJEnyMkMwM1WfICt8xYC4

由三部分组成头部（Header）、负载（Payload）、签名（Signature）
