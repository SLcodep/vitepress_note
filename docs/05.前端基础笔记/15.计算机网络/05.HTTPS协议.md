---
title: HTTPS协议
date: 2025-11-27 17:24:35
permalink: /network/HTTPS协议
# titleTag:
categories:
  - 前端
tags:
  - 前端
---

::: warning 💡 HTTP 的不足
http 使用明文(不加密)，可能被信息窃听
不验证通信方的身份，可能被信息劫持
无法验证明文的完整性，有可能被已遭信息篡改
:::

HTTPS 经由 HTTP 进行通信，利用 SSL/TLS 来加密数据包。HTTPS 的主要目的是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。

- **协议 TLS/SSL**:具有身份验证、信息加密和完整性校验的功能

## TLS/SSL 的工作原理

TLS/SSL 的功能实现主要依赖三类基本算法：散列函数 hash、对称加密、非对称加密。它们的作用分别是：

- **散列函数验证信息的完整性**
- **对称加密**算法采用协商的秘钥对**数据加密**
- **非对称加密**进行**身份验证**、**秘钥协商**

### (1)对称加密

双方都有一个密钥，发送方通过密钥进行加密，接收方通过同一个密钥进行解密。

### (2)非对称加密

除了上面的一对一的情况，在网络通信中还有一对多的情况。所以在非对称加密中使用两个密钥，一个是 public key，一个是 private key。相较于对称加密的好处是通过网络传递 public key 即可，不用见面商量密钥。
加密：A 使用 private key 加密数据的 hash 值，再用 B 的 public key 加密数据
解密：B 使用自己的 private key 解密数据，本地运算一个 hash 值，之后用 A 的 public key 解密 hash 值，对比两个 hash 值，以检验数据的完整性。

### (3)散列函数 hash

数据完整性校验：验证传输的数据是否被篡改
身份认证防篡改：验证数字证书、握手信息是否被伪造

完整性校验：对传输的数据计算 Hash 值，接收方重新计算并对比，不一致则说明数据被篡改；

### 数字证书

**一个问题：没有办法确定得到的公钥就一定是安全的公钥**
可能存在中间人，截取对方发给我们的公钥，并将自己的公钥发送给我们，我们使用他们的公钥进行加密信息，会被他们用自己的私钥进行加密。

首先使用一种 Hash 算法来对公钥和其他信息进行加密，生成一个信息摘要，然后让有公信力的认证中心（简称 CA ）用它的私钥对消息摘要加密，形成签名。最后将原始的信息和签名合在一起，称为数字证书。当接收方收到数字证书的时候，先根据原始信息使用同样的 Hash 算法生成一个摘要，然后使用公证处的公钥来对数字证书中的摘要进行解密，最后将解密的摘要和生成的摘要进行对比，就能发现得到的信息是否被更改了。
