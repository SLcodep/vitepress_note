---
title: 插槽
date: 2025-11-27 17:24:35
permalink: /vue/插槽
# titleTag: 
categories:
  - Vue
tags:
  - vue
---

## 插槽slot
### 子组件和slot的区别是什么？
> 首先，要弄清楚一个问题，既然子组件能接收父组件的内容，**为什么还需要slot?**
>
> **子组件的内容是 “写死的”**，父组件只能通过 prop 传递数据，无法修改子组件的 HTML 结构 / 内容，灵活性极低。所以**子组件如何接收模板内容呢**？
>
> **slot** 理解为：**子组件给父组件留的 “自定义窗口”**，窗口位置由子组件定，窗口里放什么由父组件定。

### 不同的slot
> 为什么要有不同的插槽？
>
> 插槽slot分为默认插槽、具名插槽、作用域插槽
>
> 具名插槽是为了父组件能定制子组件多个区域，通过name区分不同插槽；
>
> 作用域插槽的一个作用是，父组件能通过作用域插槽来接收子组件的数据，来判断是否进行渲染，如果value> 0 ? '有货' : '无货'

#### 默认插槽
```vue {v-pre}
//子组件FancyButton.vue，插槽出口<slot>
<button class="fancy-btn">
  <slot>
   	默认是me   //如果父组件中没有设置插槽内容，会渲染默认内容 
   </slot> <!-- 插槽出口 -->
</button>

//父组件提供插槽内容(模板内容)
<FancyButton>
  Click me! <!-- 插槽内容 -->
</FancyButton>
```

#### 默认插槽
> 具名插槽是为了父组件能定制子组件多个区域，通过name区分不同插槽；如标题、主要内容、底部
> 子组件提供带有不同name，给slot分配唯一的ID。没有体统就是name="default"
> 缩写是#，如name="age"

```html {v-pre}
<div class="container">
  <header>
    <slot name="header"></slot>
  </header>
  <main>
    <slot></slot>
  </main>
  <footer>
    <slot name="footer"></slot>
  </footer>
</div>
```

父组件
```html {v-pre}
<BaseLayout>
  <template #header>
    <h1>Here might be a page title</h1>
  </template>

  <template #default>
    <p>A paragraph for the main content.</p>
    <p>And another one.</p>
  </template>

  <template #footer>
    <p>Here's some contact info</p>
  </template>
</BaseLayout>
```
#### 作用域插槽
> 比如通过子组件传来的数据，判断渲染内容，或者根据子组件传来的数据进行渲染

```html {v-pre}
<!-- <MyComponent> 的模板 -->
<div>
  <slot :text="greetingMessage" :count="1"></slot>
</div>
```
父组件通过使用v-slot接收

```html {v-pre}
<MyComponent v-slot="slotProps">
  {{ slotProps.text }} {{ slotProps.count }}
</MyComponent>
```
> 注意，具名插槽的作用域插槽不一样，要使用显示的`<template>`标签

子组件：
```html {v-pre}
<div>
  <slot :message="hello"></slot>
  <slot name="footer" />
</div>
```
父组件：
```html {v-pre}
<MyComponent>
  <!-- 使用显式的默认插槽 -->
  <template #default="{ message }">
    <p>{{ message }}</p>
  </template>

  <template #footer>
    <p>Here's some contact info</p>
  </template>
</MyComponent>
```




