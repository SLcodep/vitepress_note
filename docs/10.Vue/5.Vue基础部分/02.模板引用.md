---
title: 模板引用
date: 2025-11-27 17:24:35
permalink: /vue/模板引用
# titleTag: 
categories:
  - Vue
tags:
  - vue
---

在 Vue 中，我们通常通过修改数据（State）来驱动页面变化（Data-driven），Vue 会帮我们自动处理 DOM 的更新。但在某些特定时刻，我们仍然需要直接访问底层 DOM 元素。
通过使用ref允许我们在一个特定的 DOM 元素或子组件实例被挂载后，获得对它的直接引用。

## 使用场景
### 1.打开弹窗，自动聚焦输入框
组件挂载后自动聚焦
```vue [自动聚焦]
<script setup>
import { ref, onMounted } from 'vue'

// 1. 声明一个同名的 ref，初始值为 null
const myInput = ref(null)

onMounted(() => {
  // 3. 组件挂载后，myInput.value 就指向了那个真实的 DOM 元素
  console.log(myInput.value) 
  myInput.value.focus() // 比如：让输入框自动获取焦点
})
</script>

<template>
  <input ref="myInput" />
</template>
<style scoped>

</style>
```
::: tip 💡 ref详情
在上面看到使用ref，在之前的认识中ref主要是声明一个ref的响应式变量。在这里在`<input ref="myInput" />`中ref的作用是什么呢？
两者的本质区别是
- 响应式容器
`const input = ref("响应式变量")`是响应式数据容器，我们想要是后续通过修改`.value`,vue会追踪便会并更新依赖该变量的视图。
- 模板引用标识
`<input ref="inputRef" /> + const inputRef = ref(null)`：模板 ref 是给 DOM 打标识，ref() 创造的容器装的是 DOM 元素，目的是在脚本中操作这个 DOM（命令式操作），DOM 本身无响应式，容器的响应式仅为保证引用稳定。
:::

