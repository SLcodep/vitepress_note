---
title: 组件通信
date: 2025-11-29 17:24:35
permalink: /vue/组件通信
# titleTag: 
categories:
  - Vue
tags:
  - vue
---

>本文档作为基础知识，更多关注的是什么？区别是什么？不需要深度的知道为什么这么做，在原理篇部分才会深度讲解为什么这么做、怎么做的？

# 1.组件的基础
> 一个再复杂的组件，都是由三部分组成的：prop、event、slot，它们构成了 Vue.js 组件的 API。不同组件会负责不同的内容，但一定要清楚数据放在哪里？是通过封装好的请求从服务端拿到数据进行渲染，还是通过插槽的方式进行父子组件数据的传递?

## 1.1 prop和event
### 子组件接收
**子组件是如何通过props接收数据的？**

首先是父组件传递数据
```vue {v-pre}
<script setup>
import Child from './Child.vue'
const parentCount = ref(5)
const parentMsg = '父组件传递的文本'
</script>

<template>
  <Child :msg="parentMsg" :count="parentCount" />
</template>
```
子组件利用defineProps创建props来接收
> 不能解构 `props`（解构会丢失响应式），如需解构需用 `toRefs`
>
> ```html {v-pre}
> const { count } = toRefs(props); 
> ```

```html {v-pre}
<script setup>
// 方式1：简洁声明（仅指定类型）
const props = defineProps(['msg', 'count'])
// 显式声明接收的 Prop
const props = defineProps({
  msg: String,
  count: [Number, String]
});

console.log(props.msg); 
console.log(props.count); 
</script>
```

### 子组件如何修改数据？
因为在vue中采用的是单向数据流，所以子组件要想修改数据，就要通知父组件进行修改。在vue3中是通过defindemit创建emit来将监听方法返回给父组件。
